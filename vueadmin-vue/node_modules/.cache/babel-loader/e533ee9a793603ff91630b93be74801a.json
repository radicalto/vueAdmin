{"remainingRequest":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\src\\axios.js","dependencies":[{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\src\\axios.js","mtime":1678545704178},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi9yb3V0ZXIiOwppbXBvcnQgRWxlbWVudCBmcm9tICJlbGVtZW50LXVpIjsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vMTIxLjQwLjEwMi42Mzo4MDgxIjsKdmFyIHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoewogIHRpbWVvdXQ6IDUwMDAsCiAgaGVhZGVyczogewogICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IgogIH0KfSk7CnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBjb25maWcuaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgcmV0dXJuIGNvbmZpZzsKfSk7CnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBjb25zb2xlLmxvZygicmVzcG9uc2UgLT4iICsgcmVzcG9uc2UpOwogIHZhciByZXMgPSByZXNwb25zZS5kYXRhOwoKICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0gZWxzZSB7CiAgICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoIXJlcy5tc2cgPyAi57O757uf5byC5bi4IiA6IHJlcy5tc2cpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlLmRhdGEubXNnKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgIGVycm9yLm1hc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1zZzsKICB9CgogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogIH0KCiAgRWxlbWVudC5NZXNzYWdlLmVycm9yKGVycm9yLm1hc3NhZ2UsIHsKICAgIGR1cmF0aW9uOiAzMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7"},{"version":3,"sources":["D:/desktop/javaStudy/VueAdmin-master/VueAdmin-master/vueadmin-vue/src/axios.js"],"names":["axios","router","Element","defaults","baseURL","request","create","timeout","headers","interceptors","use","config","localStorage","getItem","response","console","log","res","data","code","Message","error","msg","Promise","reject","massage","status","push","duration"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEAF,KAAK,CAACG,QAAN,CAAeC,OAAf,GAAyB,2BAAzB;AAEA,IAAMC,OAAO,GAAGL,KAAK,CAACM,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAE,IADkB;AAE3BC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAFkB,CAAb,CAAhB;AAOAH,OAAO,CAACI,YAAR,CAAqBJ,OAArB,CAA6BK,GAA7B,CAAiC,UAACC,MAAD,EAAY;AAC3CA,EAAAA,MAAM,CAACH,OAAP,CAAe,eAAf,IAAkCI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlC;AACA,SAAOF,MAAP;AACD,CAHD;AAKAN,OAAO,CAACI,YAAR,CAAqBK,QAArB,CAA8BJ,GAA9B,CACE,UAACI,QAAD,EAAc;AACZC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBF,QAA5B;AAEA,MAAIG,GAAG,GAAGH,QAAQ,CAACI,IAAnB;;AAEA,MAAID,GAAG,CAACE,IAAJ,KAAa,GAAjB,EAAsB;AACpB,WAAOL,QAAP;AACD,GAFD,MAEO;AACLZ,IAAAA,OAAO,CAACkB,OAAR,CAAgBC,KAAhB,CAAsB,CAACJ,GAAG,CAACK,GAAL,GAAW,MAAX,GAAoBL,GAAG,CAACK,GAA9C;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeV,QAAQ,CAACI,IAAT,CAAcI,GAA7B,CAAP;AACD;AACF,CAZH,EAaE,UAACD,KAAD,EAAW;AACTN,EAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;;AAEA,MAAIA,KAAK,CAACP,QAAN,CAAeI,IAAnB,EAAyB;AACvBG,IAAAA,KAAK,CAACI,OAAN,GAAgBJ,KAAK,CAACP,QAAN,CAAeI,IAAf,CAAoBI,GAApC;AACD;;AAED,MAAID,KAAK,CAACP,QAAN,CAAeY,MAAf,KAA0B,GAA9B,EAAmC;AACjCzB,IAAAA,MAAM,CAAC0B,IAAP,CAAY,QAAZ;AACD;;AAEDzB,EAAAA,OAAO,CAACkB,OAAR,CAAgBC,KAAhB,CAAsBA,KAAK,CAACI,OAA5B,EAAqC;AAAEG,IAAAA,QAAQ,EAAE;AAAZ,GAArC;AACA,SAAOL,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACD,CA1BH;AA6BA,eAAehB,OAAf","sourcesContent":["import axios from \"axios\";\nimport router from \"./router\";\nimport Element from \"element-ui\";\n\naxios.defaults.baseURL = \"http://121.40.102.63:8081\";\n\nconst request = axios.create({\n  timeout: 5000,\n  headers: {\n    \"Content-Type\": \"application/json; charset=utf-8\",\n  },\n});\n\nrequest.interceptors.request.use((config) => {\n  config.headers[\"Authorization\"] = localStorage.getItem(\"token\");\n  return config;\n});\n\nrequest.interceptors.response.use(\n  (response) => {\n    console.log(\"response ->\" + response);\n\n    let res = response.data;\n\n    if (res.code === 200) {\n      return response;\n    } else {\n      Element.Message.error(!res.msg ? \"系统异常\" : res.msg);\n      return Promise.reject(response.data.msg);\n    }\n  },\n  (error) => {\n    console.log(error);\n\n    if (error.response.data) {\n      error.massage = error.response.data.msg;\n    }\n\n    if (error.response.status === 401) {\n      router.push(\"/login\");\n    }\n\n    Element.Message.error(error.massage, { duration: 3000 });\n    return Promise.reject(error);\n  }\n);\n\nexport default request;\n"]}]}