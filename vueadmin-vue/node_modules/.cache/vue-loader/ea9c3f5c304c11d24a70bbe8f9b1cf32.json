{"remainingRequest":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\src\\views\\sys\\Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\src\\views\\sys\\Role.vue","mtime":1677751346133},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desktop\\javaStudy\\VueAdmin-master\\VueAdmin-master\\vueadmin-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJSb2xlIiwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJc2VhcmNoRm9ybToge30sCgkJCWRlbEJ0bFN0YXR1OiB0cnVlLAoKCQkJdG90YWw6IDAsCgkJCXNpemU6IDEwLAoJCQljdXJyZW50OiAxLAoKCQkJZGlhbG9nVmlzaWJsZTogZmFsc2UsCgkJCWVkaXRGb3JtOiB7CgoJCQl9LAoKCQkJdGFibGVEYXRhOiBbXSwKCgkJCWVkaXRGb3JtUnVsZXM6IHsKCQkJCW5hbWU6IFsKCQkJCQl7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cid9CgkJCQldLAoJCQkJY29kZTogWwoJCQkJCXtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWUr+S4gOe8lueggScsIHRyaWdnZXI6ICdibHVyJ30KCQkJCV0sCgkJCQlzdGF0dTogWwoJCQkJCXtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeeKtuaAgScsIHRyaWdnZXI6ICdibHVyJ30KCQkJCV0KCQkJfSwKCgkJCW11bHRpcGxlU2VsZWN0aW9uOiBbXSwKCgkJCXBlcm1EaWFsb2dWaXNpYmxlOiBmYWxzZSwKCQkJcGVybUZvcm06IHt9LAoJCQlkZWZhdWx0UHJvcHM6IHsKCQkJCWNoaWxkcmVuOiAnY2hpbGRyZW4nLAoJCQkJbGFiZWw6ICduYW1lJwoJCQl9LAoJCQlwZXJtVHJlZURhdGE6IFtdCgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5nZXRSb2xlTGlzdCgpCgoJCXRoaXMuJGF4aW9zLmdldCgnL3N5cy9tZW51L2xpc3QnKS50aGVuKHJlcyA9PiB7CgkJCXRoaXMucGVybVRyZWVEYXRhID0gcmVzLmRhdGEuZGF0YQoJCX0pCgl9LAoJbWV0aG9kczogewoJCXRvZ2dsZVNlbGVjdGlvbihyb3dzKSB7CgkJCWlmIChyb3dzKSB7CgkJCQlyb3dzLmZvckVhY2gocm93ID0+IHsKCQkJCQl0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CgkJCQl9KTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZS5jbGVhclNlbGVjdGlvbigpOwoJCQl9CgkJfSwKCQloYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CgkJCWNvbnNvbGUubG9nKCLli77pgIkiKQoJCQljb25zb2xlLmxvZyh2YWwpCgkJCXRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CgoJCQl0aGlzLmRlbEJ0bFN0YXR1ID0gdmFsLmxlbmd0aCA9PSAwCgkJfSwKCgkJaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKCQkJY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7CgkJCXRoaXMuc2l6ZSA9IHZhbAoJCQl0aGlzLmdldFJvbGVMaXN0KCkKCQl9LAoJCWhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CgkJCWNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOwoJCQl0aGlzLmN1cnJlbnQgPSB2YWwKCQkJdGhpcy5nZXRSb2xlTGlzdCgpCgkJfSwKCgkJcmVzZXRGb3JtKGZvcm1OYW1lKSB7CgkJCXRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CgkJCXRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlCgkJCXRoaXMuZWRpdEZvcm0gPSB7fQoJCX0sCgkJaGFuZGxlQ2xvc2UoKSB7CgkJCXRoaXMucmVzZXRGb3JtKCdlZGl0Rm9ybScpCgkJfSwKCgkJZ2V0Um9sZUxpc3QoKSB7CgkJCXRoaXMuJGF4aW9zLmdldCgiL3N5cy9yb2xlL2xpc3QiLCB7CgkJCQlwYXJhbXM6IHsKCQkJCQluYW1lOiB0aGlzLnNlYXJjaEZvcm0ubmFtZSwKCQkJCQljdXJyZW50OiB0aGlzLmN1cnJlbnQsCgkJCQkJc2l6ZTogdGhpcy5zaXplCgkJCQl9CgkJCX0pLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5yZWNvcmRzCgkJCQl0aGlzLnNpemUgPSByZXMuZGF0YS5kYXRhLnNpemUKCQkJCXRoaXMuY3VycmVudCA9IHJlcy5kYXRhLmRhdGEuY3VycmVudAoJCQkJdGhpcy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWwKCQkJfSkKCQl9LAoKCQlzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CgkJCXRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewoJCQkJaWYgKHZhbGlkKSB7CgkJCQkJdGhpcy4kYXhpb3MucG9zdCgnL3N5cy9yb2xlLycgKyAodGhpcy5lZGl0Rm9ybS5pZD8ndXBkYXRlJyA6ICdzYXZlJyksIHRoaXMuZWRpdEZvcm0pCgkJCQkJCS50aGVuKHJlcyA9PiB7CgoJCQkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCQkJc2hvd0Nsb3NlOiB0cnVlLAoJCQkJCQkJCW1lc3NhZ2U6ICfmga3llpzkvaDvvIzmk43kvZzmiJDlip8nLAoJCQkJCQkJCXR5cGU6ICdzdWNjZXNzJywKCQkJCQkJCQlvbkNsb3NlOigpID0+IHsKCQkJCQkJCQkJdGhpcy5nZXRSb2xlTGlzdCgpCgkJCQkJCQkJfQoJCQkJCQkJfSk7CgoJCQkJCQkJdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKCQkJCQkJCXRoaXMucmVzZXRGb3JtKGZvcm1OYW1lKQoJCQkJCQl9KQoJCQkJfSBlbHNlIHsKCQkJCQljb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCX0sCgkJZWRpdEhhbmRsZShpZCkgewoJCQl0aGlzLiRheGlvcy5nZXQoJy9zeXMvcm9sZS9pbmZvLycgKyBpZCkudGhlbihyZXMgPT4gewoJCQkJdGhpcy5lZGl0Rm9ybSA9IHJlcy5kYXRhLmRhdGEKCgkJCQl0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCgkJCX0pCgkJfSwKCQlkZWxIYW5kbGUoaWQpIHsKCgkJCXZhciBpZHMgPSBbXQoKCQkJaWYgKGlkKSB7CgkJCQlpZHMucHVzaChpZCkKCQkJfSBlbHNlIHsKCQkJCXRoaXMubXVsdGlwbGVTZWxlY3Rpb24uZm9yRWFjaChyb3cgPT4gewoJCQkJCWlkcy5wdXNoKHJvdy5pZCkKCQkJCX0pCgkJCX0KCgkJCWNvbnNvbGUubG9nKGlkcykKCgkJCXRoaXMuJGF4aW9zLnBvc3QoIi9zeXMvcm9sZS9kZWxldGUiLCBpZHMpLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCXNob3dDbG9zZTogdHJ1ZSwKCQkJCQltZXNzYWdlOiAn5oGt5Zac5L2g77yM5pON5L2c5oiQ5YqfJywKCQkJCQl0eXBlOiAnc3VjY2VzcycsCgkJCQkJb25DbG9zZTooKSA9PiB7CgkJCQkJCXRoaXMuZ2V0Um9sZUxpc3QoKQoJCQkJCX0KCQkJCX0pOwoJCQl9KQoJCX0sCgkJcGVybUhhbmRsZShpZCkgewoJCQl0aGlzLnBlcm1EaWFsb2dWaXNpYmxlID0gdHJ1ZQoKCQkJdGhpcy4kYXhpb3MuZ2V0KCIvc3lzL3JvbGUvaW5mby8iICsgaWQpLnRoZW4ocmVzID0+IHsKCgkJCQl0aGlzLiRyZWZzLnBlcm1UcmVlLnNldENoZWNrZWRLZXlzKHJlcy5kYXRhLmRhdGEubWVudUlkcykKCQkJCXRoaXMucGVybUZvcm0gPSByZXMuZGF0YS5kYXRhCgkJCX0pCgkJfSwKCgkJc3VibWl0UGVybUZvcm1IYW5kbGUoZm9ybU5hbWUpIHsKCQkJdmFyIG1lbnVJZHMgPSB0aGlzLiRyZWZzLnBlcm1UcmVlLmdldENoZWNrZWRLZXlzKCkKCgkJCWNvbnNvbGUubG9nKG1lbnVJZHMpCgoJCQl0aGlzLiRheGlvcy5wb3N0KCcvc3lzL3JvbGUvcGVybS8nICsgdGhpcy5wZXJtRm9ybS5pZCwgbWVudUlkcykudGhlbihyZXMgPT4gewoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJc2hvd0Nsb3NlOiB0cnVlLAoJCQkJCW1lc3NhZ2U6ICfmga3llpzkvaDvvIzmk43kvZzmiJDlip8nLAoJCQkJCXR5cGU6ICdzdWNjZXNzJywKCQkJCQlvbkNsb3NlOigpID0+IHsKCQkJCQkJdGhpcy5nZXRSb2xlTGlzdCgpCgkJCQkJfQoJCQkJfSk7CgkJCQl0aGlzLnBlcm1EaWFsb2dWaXNpYmxlID0gZmFsc2UKCQkJCXRoaXMucmVzZXRGb3JtKGZvcm1OYW1lKQoJCQl9KQoJCX0KCX0KfQo="},{"version":3,"sources":["Role.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Role.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\n\t<div>\n\t\t<el-form :inline=\"true\">\n\t\t\t<el-form-item>\n\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"searchForm.name\"\n\t\t\t\t\t\tplaceholder=\"名称\"\n\t\t\t\t\t\tclearable\n\t\t\t\t>\n\t\t\t\t</el-input>\n\t\t\t</el-form-item>\n\n\t\t\t<el-form-item>\n\t\t\t\t<el-button @click=\"getRoleList\">搜索</el-button>\n\t\t\t</el-form-item>\n\n\t\t\t<el-form-item>\n\t\t\t\t<el-button type=\"primary\" @click=\"dialogVisible = true\">新增</el-button>\n\t\t\t</el-form-item>\n\t\t\t<el-form-item>\n\t\t\t\t<el-popconfirm title=\"这是确定批量删除吗？\" @confirm=\"delHandle(null)\">\n\t\t\t\t\t<el-button type=\"danger\" slot=\"reference\" :disabled=\"delBtlStatu\">批量删除</el-button>\n\t\t\t\t</el-popconfirm>\n\t\t\t</el-form-item>\n\t\t</el-form>\n\n\t\t<el-table\n\t\t\t\tref=\"multipleTable\"\n\t\t\t\t:data=\"tableData\"\n\t\t\t\ttooltip-effect=\"dark\"\n\t\t\t\tstyle=\"width: 100%\"\n\t\t\t\tborder\n\t\t\t\tstripe\n\t\t\t\t@selection-change=\"handleSelectionChange\">\n\n\t\t\t<el-table-column\n\t\t\t\t\ttype=\"selection\"\n\t\t\t\t\twidth=\"55\">\n\t\t\t</el-table-column>\n\n\t\t\t<el-table-column\n\t\t\t\t\tprop=\"name\"\n\t\t\t\t\tlabel=\"名称\"\n\t\t\t\t\twidth=\"120\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\t\tprop=\"code\"\n\t\t\t\t\tlabel=\"唯一编码\"\n\t\t\t\t\tshow-overflow-tooltip>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\t\tprop=\"remark\"\n\t\t\t\t\tlabel=\"描述\"\n\t\t\t\t\tshow-overflow-tooltip>\n\t\t\t</el-table-column>\n\n\t\t\t<el-table-column\n\t\t\t\t\tprop=\"statu\"\n\t\t\t\t\tlabel=\"状态\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-tag size=\"small\" v-if=\"scope.row.statu === 1\" type=\"success\">正常</el-tag>\n\t\t\t\t\t<el-tag size=\"small\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">禁用</el-tag>\n\t\t\t\t</template>\n\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\t\tprop=\"icon\"\n\t\t\t\t\tlabel=\"操作\">\n\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button type=\"text\" @click=\"permHandle(scope.row.id)\">分配权限</el-button>\n\t\t\t\t\t<el-divider direction=\"vertical\"></el-divider>\n\n\t\t\t\t\t<el-button type=\"text\" @click=\"editHandle(scope.row.id)\">编辑</el-button>\n\t\t\t\t\t<el-divider direction=\"vertical\"></el-divider>\n\n\t\t\t\t\t<template>\n\t\t\t\t\t\t<el-popconfirm title=\"这是一段内容确定删除吗？\" @confirm=\"delHandle(scope.row.id)\">\n\t\t\t\t\t\t\t<el-button type=\"text\" slot=\"reference\">删除</el-button>\n\t\t\t\t\t\t</el-popconfirm>\n\t\t\t\t\t</template>\n\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\n\t\t</el-table>\n\n\n\t\t<el-pagination\n\t\t\t\t@size-change=\"handleSizeChange\"\n\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\n\t\t\t\t:current-page=\"current\"\n\t\t\t\t:page-size=\"size\"\n\t\t\t\t:total=\"total\">\n\t\t</el-pagination>\n\n\n\t\t<!--新增对话框-->\n\t\t<el-dialog\n\t\t\t\ttitle=\"提示\"\n\t\t\t\t:visible.sync=\"dialogVisible\"\n\t\t\t\twidth=\"600px\"\n\t\t\t\t:before-close=\"handleClose\">\n\n\t\t\t<el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editForm\" label-width=\"100px\" class=\"demo-editForm\">\n\n\t\t\t\t<el-form-item label=\"角色名称\" prop=\"name\" label-width=\"100px\">\n\t\t\t\t\t<el-input v-model=\"editForm.name\" autocomplete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<el-form-item label=\"唯一编码\" prop=\"code\" label-width=\"100px\">\n\t\t\t\t\t<el-input v-model=\"editForm.code\" autocomplete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<el-form-item label=\"描述\" prop=\"remark\" label-width=\"100px\">\n\t\t\t\t\t<el-input v-model=\"editForm.remark\" autocomplete=\"off\"></el-input>\n\t\t\t\t</el-form-item>\n\n\n\t\t\t\t<el-form-item label=\"状态\" prop=\"statu\" label-width=\"100px\">\n\t\t\t\t\t<el-radio-group v-model=\"editForm.statu\">\n\t\t\t\t\t\t<el-radio :label=0>禁用</el-radio>\n\t\t\t\t\t\t<el-radio :label=1>正常</el-radio>\n\t\t\t\t\t</el-radio-group>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('editForm')\">立即创建</el-button>\n\t\t\t\t\t<el-button @click=\"resetForm('editForm')\">重置</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\n\t\t</el-dialog>\n\n\t\t<el-dialog\n\t\t\t\ttitle=\"分配权限\"\n\t\t\t\t:visible.sync=\"permDialogVisible\"\n\t\t\t\twidth=\"600px\">\n\n\t\t\t<el-form :model=\"permForm\">\n\n\t\t\t\t<el-tree\n\t\t\t\t\t\t:data=\"permTreeData\"\n\t\t\t\t\t\tshow-checkbox\n\t\t\t\t\t\tref=\"permTree\"\n\t\t\t\t\t\t:default-expand-all=true\n\t\t\t\t\t\tnode-key=\"id\"\n\t\t\t\t\t\t:check-strictly=true\n\t\t\t\t\t\t:props=\"defaultProps\">\n\t\t\t\t</el-tree>\n\n\t\t\t</el-form>\n\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n\t\t\t    <el-button @click=\"permDialogVisible = false\">取 消</el-button>\n\t\t\t    <el-button type=\"primary\" @click=\"submitPermFormHandle('permForm')\">确 定</el-button>\n\t\t\t</span>\n\n\t\t</el-dialog>\n\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tname: \"Role\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsearchForm: {},\n\t\t\t\tdelBtlStatu: true,\n\n\t\t\t\ttotal: 0,\n\t\t\t\tsize: 10,\n\t\t\t\tcurrent: 1,\n\n\t\t\t\tdialogVisible: false,\n\t\t\t\teditForm: {\n\n\t\t\t\t},\n\n\t\t\t\ttableData: [],\n\n\t\t\t\teditFormRules: {\n\t\t\t\t\tname: [\n\t\t\t\t\t\t{required: true, message: '请输入角色名称', trigger: 'blur'}\n\t\t\t\t\t],\n\t\t\t\t\tcode: [\n\t\t\t\t\t\t{required: true, message: '请输入唯一编码', trigger: 'blur'}\n\t\t\t\t\t],\n\t\t\t\t\tstatu: [\n\t\t\t\t\t\t{required: true, message: '请选择状态', trigger: 'blur'}\n\t\t\t\t\t]\n\t\t\t\t},\n\n\t\t\t\tmultipleSelection: [],\n\n\t\t\t\tpermDialogVisible: false,\n\t\t\t\tpermForm: {},\n\t\t\t\tdefaultProps: {\n\t\t\t\t\tchildren: 'children',\n\t\t\t\t\tlabel: 'name'\n\t\t\t\t},\n\t\t\t\tpermTreeData: []\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.getRoleList()\n\n\t\t\tthis.$axios.get('/sys/menu/list').then(res => {\n\t\t\t\tthis.permTreeData = res.data.data\n\t\t\t})\n\t\t},\n\t\tmethods: {\n\t\t\ttoggleSelection(rows) {\n\t\t\t\tif (rows) {\n\t\t\t\t\trows.forEach(row => {\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleSelectionChange(val) {\n\t\t\t\tconsole.log(\"勾选\")\n\t\t\t\tconsole.log(val)\n\t\t\t\tthis.multipleSelection = val;\n\n\t\t\t\tthis.delBtlStatu = val.length == 0\n\t\t\t},\n\n\t\t\thandleSizeChange(val) {\n\t\t\t\tconsole.log(`每页 ${val} 条`);\n\t\t\t\tthis.size = val\n\t\t\t\tthis.getRoleList()\n\t\t\t},\n\t\t\thandleCurrentChange(val) {\n\t\t\t\tconsole.log(`当前页: ${val}`);\n\t\t\t\tthis.current = val\n\t\t\t\tthis.getRoleList()\n\t\t\t},\n\n\t\t\tresetForm(formName) {\n\t\t\t\tthis.$refs[formName].resetFields();\n\t\t\t\tthis.dialogVisible = false\n\t\t\t\tthis.editForm = {}\n\t\t\t},\n\t\t\thandleClose() {\n\t\t\t\tthis.resetForm('editForm')\n\t\t\t},\n\n\t\t\tgetRoleList() {\n\t\t\t\tthis.$axios.get(\"/sys/role/list\", {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tname: this.searchForm.name,\n\t\t\t\t\t\tcurrent: this.current,\n\t\t\t\t\t\tsize: this.size\n\t\t\t\t\t}\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.tableData = res.data.data.records\n\t\t\t\t\tthis.size = res.data.data.size\n\t\t\t\t\tthis.current = res.data.data.current\n\t\t\t\t\tthis.total = res.data.data.total\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tsubmitForm(formName) {\n\t\t\t\tthis.$refs[formName].validate((valid) => {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthis.$axios.post('/sys/role/' + (this.editForm.id?'update' : 'save'), this.editForm)\n\t\t\t\t\t\t\t.then(res => {\n\n\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t\t\t\t\tmessage: '恭喜你，操作成功',\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\tonClose:() => {\n\t\t\t\t\t\t\t\t\t\tthis.getRoleList()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tthis.dialogVisible = false\n\t\t\t\t\t\t\t\tthis.resetForm(formName)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('error submit!!');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\teditHandle(id) {\n\t\t\t\tthis.$axios.get('/sys/role/info/' + id).then(res => {\n\t\t\t\t\tthis.editForm = res.data.data\n\n\t\t\t\t\tthis.dialogVisible = true\n\t\t\t\t})\n\t\t\t},\n\t\t\tdelHandle(id) {\n\n\t\t\t\tvar ids = []\n\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id)\n\t\t\t\t} else {\n\t\t\t\t\tthis.multipleSelection.forEach(row => {\n\t\t\t\t\t\tids.push(row.id)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tconsole.log(ids)\n\n\t\t\t\tthis.$axios.post(\"/sys/role/delete\", ids).then(res => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t\tmessage: '恭喜你，操作成功',\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tonClose:() => {\n\t\t\t\t\t\t\tthis.getRoleList()\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\n\t\t\tpermHandle(id) {\n\t\t\t\tthis.permDialogVisible = true\n\n\t\t\t\tthis.$axios.get(\"/sys/role/info/\" + id).then(res => {\n\n\t\t\t\t\tthis.$refs.permTree.setCheckedKeys(res.data.data.menuIds)\n\t\t\t\t\tthis.permForm = res.data.data\n\t\t\t\t})\n\t\t\t},\n\n\t\t\tsubmitPermFormHandle(formName) {\n\t\t\t\tvar menuIds = this.$refs.permTree.getCheckedKeys()\n\n\t\t\t\tconsole.log(menuIds)\n\n\t\t\t\tthis.$axios.post('/sys/role/perm/' + this.permForm.id, menuIds).then(res => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t\tmessage: '恭喜你，操作成功',\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tonClose:() => {\n\t\t\t\t\t\t\tthis.getRoleList()\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.permDialogVisible = false\n\t\t\t\t\tthis.resetForm(formName)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\n\t.el-pagination {\n\t\tfloat: right;\n\t\tmargin-top: 22px;\n\t}\n\n</style>"]}]}